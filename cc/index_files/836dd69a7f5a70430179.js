document.write('<link rel="stylesheet" href="https://gist-assets.github.com/assets/embed-b8c853f42bc1486a246eca98739ff795.css">')
document.write('<div id=\"gist23496570\" class=\"gist\">\n        <div class=\"gist-file\">\n          <div class=\"gist-data gist-syntax\">\n            \n\n\n\n    <div class=\"file-data\">\n      <table cellpadding=\"0\" cellspacing=\"0\" class=\"lines highlight\">\n        <tr>\n          <td class=\"line-numbers\">\n            <span class=\"line-number\" id=\"file-cc-cpp-L1\" rel=\"file-cc-cpp-L1\">1<\/span>\n          <\/td>\n          <td class=\"line-data\">\n            <pre class=\"line-pre\"><div class=\"line\" id=\"file-cc-cpp-LC1\"><span class=\"pl-c\">//TODO<\/span>\n<\/div><\/pre>\n          <\/td>\n        <\/tr>\n      <\/table>\n    <\/div>\n\n          <\/div>\n          <div class=\"gist-meta\">\n            <a href=\"https://gist.github.com/coreymartella/836dd69a7f5a70430179/raw/cc.cpp\" style=\"float:right\">view raw<\/a>\n            <a href=\"https://gist.github.com/coreymartella/836dd69a7f5a70430179#file-cc-cpp\">cc.cpp<\/a>\n            hosted with &#10084; by <a href=\"https://github.com\">GitHub<\/a>\n          <\/div>\n        <\/div>\n        <div class=\"gist-file\">\n          <div class=\"gist-data gist-syntax\">\n            \n\n\n\n    <div class=\"file-data\">\n      <table cellpadding=\"0\" cellspacing=\"0\" class=\"lines highlight\">\n        <tr>\n          <td class=\"line-numbers\">\n            <span class=\"line-number\" id=\"file-cc-java-L1\" rel=\"file-cc-java-L1\">1<\/span>\n          <\/td>\n          <td class=\"line-data\">\n            <pre class=\"line-pre\"><div class=\"line\" id=\"file-cc-java-LC1\"><span class=\"pl-c\">//TODO<\/span>\n<\/div><\/pre>\n          <\/td>\n        <\/tr>\n      <\/table>\n    <\/div>\n\n          <\/div>\n          <div class=\"gist-meta\">\n            <a href=\"https://gist.github.com/coreymartella/836dd69a7f5a70430179/raw/cc.java\" style=\"float:right\">view raw<\/a>\n            <a href=\"https://gist.github.com/coreymartella/836dd69a7f5a70430179#file-cc-java\">cc.java<\/a>\n            hosted with &#10084; by <a href=\"https://github.com\">GitHub<\/a>\n          <\/div>\n        <\/div>\n        <div class=\"gist-file\">\n          <div class=\"gist-data gist-syntax\">\n            \n\n\n\n    <div class=\"file-data\">\n      <table cellpadding=\"0\" cellspacing=\"0\" class=\"lines highlight\">\n        <tr>\n          <td class=\"line-numbers\">\n            <span class=\"line-number\" id=\"file-cc-js-L1\" rel=\"file-cc-js-L1\">1<\/span>\n          <\/td>\n          <td class=\"line-data\">\n            <pre class=\"line-pre\"><div class=\"line\" id=\"file-cc-js-LC1\"><span class=\"pl-c\">//TODO<\/span>\n<\/div><\/pre>\n          <\/td>\n        <\/tr>\n      <\/table>\n    <\/div>\n\n          <\/div>\n          <div class=\"gist-meta\">\n            <a href=\"https://gist.github.com/coreymartella/836dd69a7f5a70430179/raw/cc.js\" style=\"float:right\">view raw<\/a>\n            <a href=\"https://gist.github.com/coreymartella/836dd69a7f5a70430179#file-cc-js\">cc.js<\/a>\n            hosted with &#10084; by <a href=\"https://github.com\">GitHub<\/a>\n          <\/div>\n        <\/div>\n        <div class=\"gist-file\">\n          <div class=\"gist-data gist-syntax\">\n            \n\n\n\n    <div class=\"file-data\">\n      <table cellpadding=\"0\" cellspacing=\"0\" class=\"lines highlight\">\n        <tr>\n          <td class=\"line-numbers\">\n            <span class=\"line-number\" id=\"file-cc-py-L1\" rel=\"file-cc-py-L1\">1<\/span>\n          <\/td>\n          <td class=\"line-data\">\n            <pre class=\"line-pre\"><div class=\"line\" id=\"file-cc-py-LC1\"><span class=\"pl-c\">#TODO<\/span>\n<\/div><\/pre>\n          <\/td>\n        <\/tr>\n      <\/table>\n    <\/div>\n\n          <\/div>\n          <div class=\"gist-meta\">\n            <a href=\"https://gist.github.com/coreymartella/836dd69a7f5a70430179/raw/cc.py\" style=\"float:right\">view raw<\/a>\n            <a href=\"https://gist.github.com/coreymartella/836dd69a7f5a70430179#file-cc-py\">cc.py<\/a>\n            hosted with &#10084; by <a href=\"https://github.com\">GitHub<\/a>\n          <\/div>\n        <\/div>\n        <div class=\"gist-file\">\n          <div class=\"gist-data gist-syntax\">\n            \n\n\n\n    <div class=\"file-data\">\n      <table cellpadding=\"0\" cellspacing=\"0\" class=\"lines highlight\">\n        <tr>\n          <td class=\"line-numbers\">\n            <span class=\"line-number\" id=\"file-cc-rb-L1\" rel=\"file-cc-rb-L1\">1<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L2\" rel=\"file-cc-rb-L2\">2<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L3\" rel=\"file-cc-rb-L3\">3<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L4\" rel=\"file-cc-rb-L4\">4<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L5\" rel=\"file-cc-rb-L5\">5<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L6\" rel=\"file-cc-rb-L6\">6<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L7\" rel=\"file-cc-rb-L7\">7<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L8\" rel=\"file-cc-rb-L8\">8<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L9\" rel=\"file-cc-rb-L9\">9<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L10\" rel=\"file-cc-rb-L10\">10<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L11\" rel=\"file-cc-rb-L11\">11<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L12\" rel=\"file-cc-rb-L12\">12<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L13\" rel=\"file-cc-rb-L13\">13<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L14\" rel=\"file-cc-rb-L14\">14<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L15\" rel=\"file-cc-rb-L15\">15<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L16\" rel=\"file-cc-rb-L16\">16<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L17\" rel=\"file-cc-rb-L17\">17<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L18\" rel=\"file-cc-rb-L18\">18<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L19\" rel=\"file-cc-rb-L19\">19<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L20\" rel=\"file-cc-rb-L20\">20<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L21\" rel=\"file-cc-rb-L21\">21<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L22\" rel=\"file-cc-rb-L22\">22<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L23\" rel=\"file-cc-rb-L23\">23<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L24\" rel=\"file-cc-rb-L24\">24<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L25\" rel=\"file-cc-rb-L25\">25<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L26\" rel=\"file-cc-rb-L26\">26<\/span>\n            <span class=\"line-number\" id=\"file-cc-rb-L27\" rel=\"file-cc-rb-L27\">27<\/span>\n          <\/td>\n          <td class=\"line-data\">\n            <pre class=\"line-pre\"><div class=\"line\" id=\"file-cc-rb-LC1\">data <span class=\"pl-k\">=<\/span> <span class=\"pl-s3\">JSON<\/span>.parse(<span class=\"pl-s3\">File<\/span>.read(file))\n<\/div><div class=\"line\" id=\"file-cc-rb-LC2\"><span class=\"pl-c\">#sort the data by the time<\/span>\n<\/div><div class=\"line\" id=\"file-cc-rb-LC3\">data.sort_by{|<span class=\"pl-vo\">d<\/span>| d[<span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>time<span class=\"pl-pds\">&#39;<\/span><\/span>]}\n<\/div><div class=\"line\" id=\"file-cc-rb-LC4\">enters <span class=\"pl-k\">=<\/span> {} <span class=\"pl-c\">#track vehicles that have currently entered the intersection<\/span>\n<\/div><div class=\"line\" id=\"file-cc-rb-LC5\">counts <span class=\"pl-k\">=<\/span> {<span class=\"pl-c1\">r:<\/span><span class=\"pl-c1\">0<\/span>,<span class=\"pl-c1\">s:<\/span><span class=\"pl-c1\">0<\/span>,<span class=\"pl-c1\">l:<\/span><span class=\"pl-c1\">0<\/span>,<span class=\"pl-c1\">u:<\/span><span class=\"pl-c1\">0<\/span>}\n<\/div><div class=\"line\" id=\"file-cc-rb-LC6\"><span class=\"pl-c\">#classify the movements (probably could do this with some arithmetic<\/span>\n<\/div><div class=\"line\" id=\"file-cc-rb-LC7\">movements <span class=\"pl-k\">=<\/span> {\n<\/div><div class=\"line\" id=\"file-cc-rb-LC8\">  <span class=\"pl-c1\">1<\/span> =&gt; {<span class=\"pl-c1\">6<\/span> =&gt; <span class=\"pl-c1\">:r<\/span>, <span class=\"pl-c1\">7<\/span> =&gt; <span class=\"pl-c1\">:s<\/span>, <span class=\"pl-c1\">8<\/span> =&gt; <span class=\"pl-c1\">:l<\/span>, <span class=\"pl-c1\">5<\/span> =&gt; <span class=\"pl-c1\">:u<\/span>},\n<\/div><div class=\"line\" id=\"file-cc-rb-LC9\">  <span class=\"pl-c1\">2<\/span> =&gt; {<span class=\"pl-c1\">7<\/span> =&gt; <span class=\"pl-c1\">:r<\/span>, <span class=\"pl-c1\">8<\/span> =&gt; <span class=\"pl-c1\">:s<\/span>, <span class=\"pl-c1\">5<\/span> =&gt; <span class=\"pl-c1\">:l<\/span>, <span class=\"pl-c1\">6<\/span> =&gt; <span class=\"pl-c1\">:u<\/span>},\n<\/div><div class=\"line\" id=\"file-cc-rb-LC10\">  <span class=\"pl-c1\">3<\/span> =&gt; {<span class=\"pl-c1\">8<\/span> =&gt; <span class=\"pl-c1\">:r<\/span>, <span class=\"pl-c1\">5<\/span> =&gt; <span class=\"pl-c1\">:s<\/span>, <span class=\"pl-c1\">6<\/span> =&gt; <span class=\"pl-c1\">:l<\/span>, <span class=\"pl-c1\">7<\/span> =&gt; <span class=\"pl-c1\">:u<\/span>},\n<\/div><div class=\"line\" id=\"file-cc-rb-LC11\">  <span class=\"pl-c1\">4<\/span> =&gt; {<span class=\"pl-c1\">5<\/span> =&gt; <span class=\"pl-c1\">:r<\/span>, <span class=\"pl-c1\">6<\/span> =&gt; <span class=\"pl-c1\">:s<\/span>, <span class=\"pl-c1\">7<\/span> =&gt; <span class=\"pl-c1\">:l<\/span>, <span class=\"pl-c1\">8<\/span> =&gt; <span class=\"pl-c1\">:u<\/span>}\n<\/div><div class=\"line\" id=\"file-cc-rb-LC12\">}\n<\/div><div class=\"line\" id=\"file-cc-rb-LC13\">data.each <span class=\"pl-k\">do <\/span>|<span class=\"pl-vo\">d<\/span>|; d <span class=\"pl-k\">=<\/span> d.with_indifferent_access\n<\/div><div class=\"line\" id=\"file-cc-rb-LC14\">  <span class=\"pl-c\">#if the trip region is a 1,2,3,4 it&#39;s an enter<\/span>\n<\/div><div class=\"line\" id=\"file-cc-rb-LC15\">  <span class=\"pl-k\">if<\/span> d[<span class=\"pl-c1\">:region<\/span>] <span class=\"pl-k\">&lt;=<\/span> <span class=\"pl-c1\">4<\/span>\n<\/div><div class=\"line\" id=\"file-cc-rb-LC16\">    enters[d[<span class=\"pl-c1\">:vehicle<\/span>]] <span class=\"pl-k\">=<\/span> d[<span class=\"pl-c1\">:region<\/span>]\n<\/div><div class=\"line\" id=\"file-cc-rb-LC17\">  <span class=\"pl-c\">#if the trip region is a 5,6,7,8 it&#39;s an exit<\/span>\n<\/div><div class=\"line\" id=\"file-cc-rb-LC18\">  <span class=\"pl-k\">elsif<\/span> d[<span class=\"pl-c1\">:region<\/span>] <span class=\"pl-k\">&gt;<\/span> <span class=\"pl-c1\">4<\/span>\n<\/div><div class=\"line\" id=\"file-cc-rb-LC19\">    enter <span class=\"pl-k\">=<\/span> enters[d[<span class=\"pl-c1\">:vehicle<\/span>]]\n<\/div><div class=\"line\" id=\"file-cc-rb-LC20\">    <span class=\"pl-k\">next<\/span> <span class=\"pl-k\">if<\/span> <span class=\"pl-k\">!<\/span>enter <span class=\"pl-c\">#ignore missing events<\/span>\n<\/div><div class=\"line\" id=\"file-cc-rb-LC21\">    movement <span class=\"pl-k\">=<\/span> movements[enter][d[<span class=\"pl-c1\">:region<\/span>]]\n<\/div><div class=\"line\" id=\"file-cc-rb-LC22\">    counts[movement] <span class=\"pl-k\">+=<\/span> <span class=\"pl-c1\">1<\/span>\n<\/div><div class=\"line\" id=\"file-cc-rb-LC23\">    <span class=\"pl-c\">#delete the car out of the enters<\/span>\n<\/div><div class=\"line\" id=\"file-cc-rb-LC24\">    enters.delete(d[<span class=\"pl-c1\">:vehicle<\/span>])\n<\/div><div class=\"line\" id=\"file-cc-rb-LC25\">  <span class=\"pl-k\">end<\/span>\n<\/div><div class=\"line\" id=\"file-cc-rb-LC26\"><span class=\"pl-k\">end<\/span>\n<\/div><div class=\"line\" id=\"file-cc-rb-LC27\">counts.values.join(<span class=\"pl-s1\"><span class=\"pl-pds\">&quot;<\/span><span class=\"pl-pds\">&quot;<\/span><\/span>)\n<\/div><\/pre>\n          <\/td>\n        <\/tr>\n      <\/table>\n    <\/div>\n\n          <\/div>\n          <div class=\"gist-meta\">\n            <a href=\"https://gist.github.com/coreymartella/836dd69a7f5a70430179/raw/cc.rb\" style=\"float:right\">view raw<\/a>\n            <a href=\"https://gist.github.com/coreymartella/836dd69a7f5a70430179#file-cc-rb\">cc.rb<\/a>\n            hosted with &#10084; by <a href=\"https://github.com\">GitHub<\/a>\n          <\/div>\n        <\/div>\n<\/div>\n')
